{"version":3,"sources":["ChatBubble.js","Tab.js","App.js","reducer.js","store.js","index.js","cross.png"],"names":["ChatBubble","mtag","message","class","Tab","props","onClickHandler","bind","onClose","onMouseOver","onMouseLeave","state","showCross","this","changeTab","title","setState","closeTab","show_class","selected_class","isSelected","className","onClick","src","crossIcon","alt","React","Component","connect","selectedTab","dispatch","type","payload","App","messageText","editorWidth","window","innerWidth","editor","chatBox","createRef","editorDidMount","onChange","addBtnHandler","applyBtnHandler","onMessageChangeHandler","onKeyPressHandler","addEventListener","monaco","console","log","focus","newValue","e","updateCode","current","scrollTop","scrollHeight","addNewTab","sendCode","code","event","target","value","key","length","sendMessage","tabs","map","tab","selected","chat","index","getTabs","applyChange","applyBtnText","width","height","language","theme","options","selectOnLineNumbers","ref","getChats","placeholder","onKeyPress","context","reverseIt","str","split","reverse","join","CampK12","translate","text","fromLang","toLang","Promise","resolve","reject","axios","params","lang","then","response","data","catch","error","main_code","dispatcher","safeEval","reply","err","except","reducer","createReducer","tabIncrementer","TESTING","action","CHANGE_TAB","prevselectedTab","forEach","val","ADD_NEW_TAB","newTitle","push","UPDATE_CODE","CLOSE_TAB","splice","SEND_MESSAGE","pop","APPLY_CAHNGE","CHANGE_APPLY_BTN_TEXT","CHANGE_APPLIED","store","createStore","applyMiddleware","ReduxThunk","logger","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.dec7e481.chunk.js","sourcesContent":["import React from 'react';\n\nconst ChatBubble = ({mtag, message}) => {\n\tif(mtag === \"SERVER\"){\n\t\treturn <div class=\"chat-bubble you\">{message}</div>;\n\t}\n\n\telse if(mtag === \"CLIENT\"){\n\t\treturn <div class=\"chat-bubble me\">{message}</div>;\n\t}\n\n\telse if(mtag === \"WAITING\"){\n\t\treturn <div class=\"chat-bubble you\">...</div>;\n\t}\n}\n\nexport default ChatBubble;","import React from 'react';\nimport {connect} from 'react-redux';\nimport crossIcon from './cross.png';\n\nclass Tab extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.onClickHandler = this.onClickHandler.bind(this);\n\t\tthis.onClose = this.onClose.bind(this);\n\t\tthis.onMouseOver = this.onMouseOver.bind(this);\n\t\tthis.onMouseLeave = this.onMouseLeave.bind(this);\n\n\t\tthis.state = {\n\t\t\tshowCross: false\n\t\t};\n\t}\n\n\tonClickHandler(){\n\t\t// console.log(this.props.title);\n\t\tthis.props.changeTab(this.props.title);\n\t}\n\n\tonMouseOver() {\n\t\tthis.setState({showCross: true});\n\t}\n\tonMouseLeave() {\n\t\tthis.setState({showCross: false});\n\t}\n\n\tonClose(){\n\t\tthis.props.closeTab(this.props.title);\n\t}\n\n\trender(){\n\t\tlet show_class = \"\";\n\t\tif(this.state.showCross){\n\t\t\tshow_class = \"show\"\n\t\t}\n\n\t\tlet selected_class = \"\";\n\t\tif(this.props.isSelected){\n\t\t\tselected_class = \"selected\";\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={`tab ${selected_class}`} onClick={this.onClickHandler} onMouseOver={this.onMouseOver} onMouseLeave={this.onMouseLeave}>\n\t\t\t\t<img src={crossIcon}  alt=\"close\" className={`cross-icon ${show_class}`} onClick={this.onClose}/>\n\t\t\t\t{this.props.title}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tselectedTab: state.selectedTab\n\t}\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeTab: (title) => {\n\t\t\tdispatch({\n\t\t\t\ttype: 'CHANGE_TAB',\n\t\t\t\tpayload: title\n\t\t\t});\n\t\t},\n\t\tcloseTab: (title) => {\n\t\t\tdispatch({\n\t\t\t\ttype: 'CLOSE_TAB',\n\t\t\t\tpayload: title\n\t\t\t})\n\t\t}\n\t}\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Tab);\n","import React from 'react';\nimport * as axios from 'axios';\nimport safeEval from \"safe-eval\";\nimport MonacoEditor from 'react-monaco-editor';\nimport {connect} from 'react-redux';\n\nimport './App.css';\nimport ChatBubble from './ChatBubble.js';\nimport Tab from './Tab.js';\n\nclass App extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmessageText: '',\n\t\t\teditorWidth: window.innerWidth/2\n\t\t};\n\t\tthis.editor = null;\n\n\t\tthis.chatBox = React.createRef();\n\t\t\n\t\tthis.editorDidMount = this.editorDidMount.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.addBtnHandler = this.addBtnHandler.bind(this);\n\t\tthis.applyBtnHandler = this.applyBtnHandler.bind(this);\n\t\tthis.onMessageChangeHandler = this.onMessageChangeHandler.bind(this);\n\t\tthis.onKeyPressHandler = this.onKeyPressHandler.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\twindow.addEventListener('resize', () => {\n\t\t\tthis.setState({editorWidth: window.innerWidth/2});\n\t\t});\n\t}\n\t\n\teditorDidMount(editor, monaco){\n\t\tconsole.log('editor mounted');\n\t\tthis.editor = editor;\n\t\teditor.focus();\n\t}\n\n\tonChange(newValue, e){\n\t\tthis.props.updateCode(newValue);\n\t\tthis.editor.focus();\n\t}\n\n\tcomponentDidUpdate(){\n\t\tthis.chatBox.current.scrollTop = this.chatBox.current.scrollHeight;\n\t}\n\n\taddBtnHandler(){\n\t\tthis.props.addNewTab();\n\t}\n\n\tapplyBtnHandler(){\n\t\tthis.props.sendCode(\n\t\t\tthis.props.code['main']\n\t\t);\n\t}\n\n\tonMessageChangeHandler(event){\n\t\tthis.setState({\n\t\t\tmessageText: event.target.value\n\t\t});\n\n\t}\n\n\tonKeyPressHandler(event){\n\t\tif(event.key === 'Enter'){\n\t\t\tif(this.state.messageText.length !== 0){\n\t\t\t\tthis.props.sendMessage(this.state.messageText, this.props.code['main']);\n\t\t\t\tthis.setState({messageText: \"\"})\n\t\t\t}\n\t\t}\n\t}\n\n\tgetTabs(){\n\t\treturn this.props.tabs.map((tab) => <Tab isSelected={tab.selected} title={tab.title} key={tab.title} />);\n\t}\n\n\tgetChats(){\n\t\treturn this.props.chat.map((chat, index) => <ChatBubble mtag={chat.mtag} message={chat.message} key={index} />);\n\t}\n\n\trender(){\n\t\tconst editorOptions = {\n\t\t\tselectOnLineNumbers: true\n\t\t};\n\n\t\treturn (\n\t\t\t<div class=\"wrapper\">\n\t\t\t\t<div class=\"top-bar\">\n\t\t\t\t\t<span class=\"title-text\">AI playground</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"work-section\">\n\t\t\t\t\t<div class=\"editor-section\">\n\t\t\t\t\t\t<div className=\"tab-bar\">\n\t\t\t\t\t\t\t{this.getTabs()}\n\t\t\t\t\t\t\t<button class=\"new-tab-btn\" onClick={this.addBtnHandler}>+</button>\n\t\t\t\t\t\t\t<button class={`apply-btn ${this.props.applyChange?'green':''}`} \n\t\t\t\t\t\t\t\tonClick={this.applyBtnHandler}>{this.props.applyBtnText}</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"editor-box\">\n\t\t\t\t\t\t\t<MonacoEditor\n\t\t\t\t\t\t\t\twidth={this.state.editorWidth}\n\t\t\t\t\t\t\t\theight=\"681\"\n\t\t\t\t\t\t\t\tlanguage=\"javascript\"\n\t\t\t\t\t\t\t\ttheme=\"vs-dark\"\n\t\t\t\t\t\t\t\tvalue={this.props.code[this.props.selectedTab]}\n\t\t\t\t\t\t\t\toptions={editorOptions}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\teditorDidMount={this.editorDidMount}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"chat-box-section\">\n\t\t\t\t\t\t<div className=\"chat-box\" ref={this.chatBox}>\n\t\t\t\t\t\t\t{this.getChats()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tclass=\"input-box\"\n\t\t\t\t\t\t\tplaceholder=\"Type Message here...\"\n\t\t\t\t\t\t\tonChange={this.onMessageChangeHandler}\n\t\t\t\t\t\t\tonKeyPress={this.onKeyPressHandler}\n\t\t\t\t\t\t\tvalue={this.state.messageText}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nconst CampK12 = {\n\ttranslate(text, fromLang, toLang){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\taxios.post(\"https://translate.yandex.net/api/v1.5/tr.json/translate\" ,null, {params : {\n\t\t\t\tlang:`${fromLang}-${toLang}`,\n\t\t\t\tkey: \"trnsl.1.1.20200131T134450Z.40bdceadd6b715c0.6451fead3a42dc87e73bca2d45ed7a1bc15142dd\",\n\t\t\t\ttext:text\n\t\t\t}})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tresolve(response.data.text[0]);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t})\n\t}\n};\n\nconst context = {\n\treverseIt: function (str) {\n\t\treturn str.split(\"\").reverse().join(\"\");\n\t},\n\tCampK12: CampK12\n};\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tchat: state.chat,\n\t\ttabs: state.tabs,\n\t\tselectedTab: state.selectedTab,\n\t\tcode: state.code,\n\t\tapplyChange: state.applyChange,\n\t\tapplyBtnText: state.applyBtnText\n\t};\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tupdateCode: (code) => {\n\t\t\tdispatch({\n\t\t\t\ttype: 'UPDATE_CODE',\n\t\t\t\tpayload: code\n\t\t\t});\n\n\t\t\tdispatch({\n\t\t\t\ttype: 'CHANGE_APPLY_BTN_TEXT',\n\t\t\t\tpayload: 'Apply change'\n\t\t\t});\n\t\t},\n\t\taddNewTab: () => {\n\t\t\tdispatch({\n\t\t\t\ttype: 'ADD_NEW_TAB'\n\t\t\t});\n\t\t},\n\t\tsendMessage: (message, main_code) => {\n\n\t\t\tdispatch((dispatcher) => {\n\n\t\t\t\tdispatcher({\n\t\t\t\t\ttype: \"SEND_MESSAGE\",\n\t\t\t\t\tpayload: {mtag: \"CLIENT\",message:message}\n\t\t\t\t});\n\n\t\t\t\tdispatcher({\n\t\t\t\t\ttype: \"SEND_MESSAGE\",\n\t\t\t\t\tpayload: {mtag: \"WAITING\"}\n\t\t\t\t});\n\n\n\t\t\t\tlet code = main_code;\n\t\t\t\tcode = '(' + code + `)(\"${message}\")`;\n\n\t\t\t\ttry {\n\t\t\t\t\tlet output = safeEval(code, context);\n\n\t\t\t\t\toutput.then(reply => {\n\t\t\t\t\t\tdispatcher({\n\t\t\t\t\t\t\ttype: \"SEND_MESSAGE\",\n\t\t\t\t\t\t\tpayload: { mtag: \"SERVER\", message: reply }\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tdispatcher({\n\t\t\t\t\t\t\ttype: \"SEND_MESSAGE\",\n\t\t\t\t\t\t\tpayload: { mtag: \"SERVER\", message: \"Error executing the code\" }\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t} catch (except) {\n\t\t\t\t\tdispatcher({\n\t\t\t\t\t\ttype: \"SEND_MESSAGE\",\n\t\t\t\t\t\tpayload: { mtag: \"SERVER\", message: \"Error executing the code\" }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsendCode: (main_code) => {\n\t\t\tdispatch((dispatcher) => {\n\t\t\t\tdispatcher({\n\t\t\t\t\ttype: 'APPLY_CAHNGE'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tdispatcher({\n\t\t\t\t\ttype: 'CHANGE_APPLY_BTN_TEXT',\n\t\t\t\t\tpayload: 'Applying'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\ttry{\n\n\t\t\t\t\tlet code = main_code;\n\t\t\t\t\tcode = '(' + code + `)(\"Test\")`;\n\n\t\t\t\t\tsafeEval(code, context);\n\t\t\t\t\tdispatcher({\n\t\t\t\t\t\ttype: 'CHANGE_APPLIED'\n\t\t\t\t\t});\n\n\t\t\t\t\tdispatcher({\n\t\t\t\t\t\ttype: 'CHANGE_APPLY_BTN_TEXT',\n\t\t\t\t\t\tpayload: 'Change Applied'\n\t\t\t\t\t});\n\n\n\n\t\t\t\t}catch(except){\n\t\t\t\t\tdispatcher({\n\t\t\t\t\t\ttype: 'CHANGE_APPLIED'\n\t\t\t\t\t});\n\t\t\t\t\tdispatcher({\n\t\t\t\t\t\ttype: 'CHANGE_APPLY_BTN_TEXT',\n\t\t\t\t\t\tpayload: 'Error'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import {createReducer} from '@reduxjs/toolkit';\nconst initState = {\n\n\tchat: [\n\t\t{mtag: \"SERVER\", message: \"Hi, I am a chatbot\"},\n\t],\n\ttabs: [\n\t\t{title: 'main',selected: true}\n\t\t// {title: 'what',selected: false}\n\t],\n\tselectedTab: 'main',\n\tcode : {\n\t\t'main' : `\nasync function respond(inputText) {\n\treturn inputText;\n}\n\t\t`\n\t},\n\ttabIncrementer: 0,\n\tapplyChange: false,\n\tapplyBtnText: 'Apply Change'\n\n};\n\nconst reducer = createReducer(initState, {\n\tTESTING: (state, action) => {\n\t\tconsole.log('testing');\n\t},\n\n\tCHANGE_TAB: (state, action) => {\n\t\tlet prevselectedTab = state.selectedTab;\n\t\t// let nextstate = {...state};\n\n\t\tstate.tabs.forEach((val, index) => {\n\t\t\tif(val.title === prevselectedTab){\n\t\t\t\tstate.tabs[index].selected = false;\n\t\t\t}\n\n\t\t\tif(val.title === action.payload){\n\t\t\t\tstate.tabs[index].selected = true;\n\t\t\t\tstate.selectedTab = action.payload;\n\t\t\t}\n\t\t});\n\n\t},\n\n\tADD_NEW_TAB: (state, action) => {\n\t\tlet newTitle = `file${state.tabIncrementer + 1}`\n\t\tstate.tabs.push({\n\t\t\ttitle: newTitle,\n\t\t\tselected: false\n\t\t});\n\n\t\tstate.code[newTitle] = \"// start editing this file\";\n\n\t\tstate.tabIncrementer += 1;\n\t},\n\n\tUPDATE_CODE: (state, action) => {\n\t\tstate.code[state.selectedTab] = action.payload;\n\t},\n\n\tCLOSE_TAB: (state, action) => {\n\t\tif(action.payload !== 'main'){\n\t\t\tstate.tabs.forEach((tab, index) => {\n\t\t\t\tif(tab.title === action.payload){\n\t\t\t\t\tstate.tabs.splice(index, 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tstate.selectedTab = 'main';\n\t\t}\n\t},\n\n\tSEND_MESSAGE: (state, action) => {\n\t\tif(action.payload.mtag === 'CLIENT'){\n\t\t\tstate.chat.push({\n\t\t\t\tmtag: 'CLIENT',\n\t\t\t\tmessage: action.payload.message\n\t\t\t});\n\t\t}\n\t\telse if(action.payload.mtag === 'WAITING'){\n\t\t\tstate.chat.push({\n\t\t\t\tmtag: 'WAITING',\n\t\t\t\tmessage: ''\n\t\t\t});\n\n\t\t}\n\t\telse {\n\t\t\tstate.chat.pop();\n\t\t\tstate.chat.push({\n\t\t\t\tmtag: 'SERVER',\n\t\t\t\tmessage: action.payload.message\n\t\t\t});\n\t\t}\n\t},\n\n\tAPPLY_CAHNGE: (state, action) => {\n\t\tstate.applyChange = true;\n\t},\n\n\tCHANGE_APPLY_BTN_TEXT: (state, action) => {\n\t\tstate.applyBtnText = action.payload;\n\t},\n\n\tCHANGE_APPLIED: (state, action) => {\n\t\tstate.applyChange = false;\n\t}\n\n});\n\nexport default reducer;\n\n\n","import {createStore, applyMiddleware} from 'redux';\nimport logger from 'redux-logger';\nimport ReduxThunk from 'redux-thunk';\nimport reducer from './reducer.js';\n\nconst store = createStore(reducer, applyMiddleware(ReduxThunk, logger));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport App from './App';\n\nimport store from './store.js';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>\n\t, \n\tdocument.getElementById('root')\n);\n\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAZUlEQVR4AeXRMRGAQBAEwQ8IEECAy5fyQpCBCCQgo1HAchQhG191cNN+NMyfb7DgQA83A3vEMGED9BsERosLWB0JWB3JmNdI+An0r8hIAcpIrllGQs00rDgxcgAH5kesUHNp/9kFUU/w1U8vqWgAAAAASUVORK5CYII=\""],"sourceRoot":""}